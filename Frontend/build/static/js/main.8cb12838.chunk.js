(this.webpackJsonpportal=this.webpackJsonpportal||[]).push([[0],{100:function(e,t,s){},101:function(e,t,s){},102:function(e,t,s){},103:function(e,t,s){},188:function(e,t,s){},189:function(e,t,s){},190:function(e,t,s){},191:function(e,t,s){},192:function(e,t,s){},193:function(e,t,s){},194:function(e,t,s){},195:function(e,t,s){},196:function(e,t,s){},198:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),c=s.n(n),r=s(19),i=s.n(r),o=(s(85),s(9)),l=s(7),u=(s(86),s(5)),j=s.n(u),b=s(6),d=s(2),h=s(22),m=s(8),O=s.p+"static/media/logo.d1776b8b.svg",p=(s(88),Object(n.createContext)({isLogedIn:!1,token:null,userId:null,login:function(){},logout:function(){}})),x=s(76),g="REQUIRE",f="MINLENGTH",v="MAXLENGTH",N="EMAIL",y=function(){return{type:g}},w=function(e){return{type:f,val:e}},k=function(e,t){var s,a=!0,n=Object(x.a)(t);try{for(n.s();!(s=n.n()).done;){var c=s.value;c.type===g&&(a=a&&e.trim().length>0),c.type===f&&(a=a&&e.trim().length>=c.val),c.type===v&&(a=a&&e.trim().length<=c.val),"MIN"===c.type&&(a=a&&+e>=c.val),"MAX"===c.type&&(a=a&&+e<=c.val),c.type===N&&(a=a&&/^\S+@\S+\.\S+$/.test(e))}}catch(r){n.e(r)}finally{n.f()}return a},S=(s(89),function(e,t){switch(t.type){case"CHANGE":return Object(m.a)(Object(m.a)({},e),{},{value:t.val,isValid:k(t.val,t.validators)});case"TOUCH":return Object(m.a)(Object(m.a)({},e),{},{isTouch:!0});default:return e}}),I=function(e){var t=Object(n.useReducer)(S,{value:e.value||"",isValid:e.isValid||!1,isTouch:e.isTouch||!1}),s=Object(d.a)(t,2),c=s[0],r=s[1],i=function(t){r({type:"CHANGE",val:t.target.value,validators:e.validators})},o=function(){r({type:"TOUCH"})},l=e.id,u=e.onInput,j=c.value,b=c.isValid;Object(n.useEffect)((function(){u(l,j,b)}),[l,j,b,u]);var h="input"===e.element?Object(a.jsx)("input",{id:e.id,name:e.name,className:e.className,type:e.type,placeholder:e.placeholder,value:c.value,autoComplete:"off",onChange:i,onBlur:o}):Object(a.jsx)("textarea",{id:e.id,className:e.className||"text-area",rows:e.rows||1,placeholder:e.placeholder,value:c.value,onChange:i,onBlur:o});return Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:e.label}),h,!c.isValid&&c.isTouch&&Object(a.jsxs)("p",{className:"error",children:[Object(a.jsx)("i",{class:"fas fa-exclamation-triangle",style:{color:"red"}}),"  ",e.errorMessage]})]})},C=(s(90),function(e){return Object(a.jsx)("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay"),children:Object(a.jsxs)("div",{class:"loader",children:[Object(a.jsx)("span",{}),Object(a.jsx)("span",{}),Object(a.jsx)("span",{}),Object(a.jsx)("span",{})]})})}),E=(s(91),function(e){return i.a.createPortal(Object(a.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}),A=(s(92),function(e){return Object(a.jsxs)("div",{className:"show-error-section",children:[Object(a.jsx)("div",{className:"modal__header",children:Object(a.jsx)("h2",{children:e.heading})}),Object(a.jsx)("div",{className:"modal__content",children:Object(a.jsx)("h5",{children:e.error})})]})}),q=(s(93),function(e){var t=Object(n.useRef)(),s=Object(n.useState)(),r=Object(d.a)(s,2),i=r[0],o=r[1],l=Object(n.useState)(e.isVaild||!1),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(n.useState)(),m=Object(d.a)(h,2),O=m[0],p=m[1];return Object(n.useEffect)((function(){if(i){var e=new FileReader;e.onload=function(){p(e.result)},e.readAsDataURL(i)}}),[i]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("input",{id:e.id,style:{display:"none"},ref:t,type:"file",accept:".jpg,.jpeg,.png",onChange:function(t){var s,a=j;t.target.files&&1===t.target.files.length?(s=t.target.files[0],o(s),b(!0),a=!0):(b(!1),a=!1),e.onInput(e.id,s,a)}}),Object(a.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[Object(a.jsxs)("div",{className:"image-upload__preview ".concat(e.previewClass),children:[O&&Object(a.jsx)("img",{src:O,alt:"Preview"}),!O&&Object(a.jsx)("p",{children:"Please pick an image"})]}),Object(a.jsx)("button",{class:"btn btn-warning",onClick:function(e){e.preventDefault(),t.current.click()},children:"Pick Image"})]})]})}),T=function(e,t){switch(t.type){case"INPUT_CHANGE":var s=!0;for(var a in e.inputs)e.inputs[a]&&(s=a===t.inputId?s&&t.isValid:s&&e.inputs[a].isValid);return Object(m.a)(Object(m.a)({},e),{},{inputs:Object(m.a)(Object(m.a)({},e.inputs),{},Object(h.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:s});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}};var F=function(){var e=Object(n.useContext)(p),t=Object(n.useState)(!1),s=Object(d.a)(t,2),r=s[0],i=s[1],o=Object(n.useState)(!0),l=Object(d.a)(o,2),u=l[0],h=l[1],x=Object(n.useState)(!1),g=Object(d.a)(x,2),f=g[0],v=g[1],k=Object(n.useReducer)(T,{inputs:{email:{value:"",isValid:!1},password:{value:"",isValid:!1}},isValid:!1}),S=Object(d.a)(k,2),F=S[0],V=S[1],D=Object(n.useState)(!1),P=Object(d.a)(D,2),_=P[0],L=P[1],B=Object(n.useState)(),z=Object(d.a)(B,2),U=z[0],Q=z[1],R=Object(n.useCallback)((function(e,t,s){V({type:"INPUT_CHANGE",value:t,isValid:s,inputId:e})}),[]),M=function(e,t){V({type:"SET_DATA",inputs:e,formIsValid:t})},H=function(){var t=Object(b.a)(j.a.mark((function t(s){var a,n,c,i,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),!r){t.next=48;break}if(!u){t.next=23;break}return t.prev=3,L(!0),t.next=7,fetch("${process.env.REACT_APP_BACKEND_URL}/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:F.inputs.email.value,password:F.inputs.password.value})});case 7:return a=t.sent,t.next=10,a.json();case 10:if(!(n=t.sent).message){t.next=13;break}throw Error(n.message);case 13:e.login(n.user.id,n.token),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(3),console.log(t.t0),Q(t.t0.message||"Something wentt wrong, please try again");case 20:L(!1),t.next=48;break;case 23:return t.prev=23,L(!0),(c=new FormData).append("name",F.inputs.name.value),c.append("image",F.inputs.image.value),c.append("schoolName",F.inputs.schoolName.value),c.append("code",F.inputs.code.value),c.append("email",F.inputs.email.value),c.append("password",F.inputs.password.value),t.next=34,fetch("${process.env.REACT_APP_BACKEND_URL}/user/signup",{method:"POST",body:c});case 34:return i=t.sent,t.next=37,i.json();case 37:if(!(o=t.sent).message){t.next=40;break}throw Error(o.message);case 40:e.login(o.user.id,o.token),t.next=47;break;case 43:t.prev=43,t.t1=t.catch(23),console.log(t.t1),Q(t.t1.message||"Something went wrong, please try again.");case 47:L(!1);case 48:case"end":return t.stop()}}),t,null,[[3,16],[23,43]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(c.a.Fragment,{children:[U&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){Q(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:U})]}),_&&Object(a.jsx)(C,{asOverlay:!0}),Object(a.jsxs)("div",{id:"wrapper",children:[Object(a.jsxs)("div",{className:"signIn-text-DIV",children:[Object(a.jsx)("h1",{className:"signIN-text",children:"LEARN."}),Object(a.jsx)("h1",{className:"signIN-text",children:"IMPLEMENT."}),Object(a.jsx)("h1",{className:"signIN-text",children:"INNOVATE."})]}),Object(a.jsxs)("div",{className:u?"my-form":"my-form-2",children:[Object(a.jsx)("img",{className:"logo2",src:O}),Object(a.jsxs)("form",{onSubmit:H,children:[!u&&Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)("i",{class:"fas fa-user"})}),Object(a.jsx)(I,{id:"name",element:"input",placeholder:"User Name",type:"text",className:"form-control sign-in-Box",value:F.inputs.name.value,onInput:R,validators:[y()],errorMessage:"Please enter a valid user name"}),f&&Object(a.jsx)(q,{id:"image",onInput:R,center:!0,isValid:!0}),Object(a.jsx)("button",{id:"add-image-btn-auth",style:{width:"84%",margin:"1% 12%"},class:"btn btn-warning",onClick:function(e){e.preventDefault(),v(!0),document.querySelector("#add-image-btn-auth").style.display="none"},children:"Upload User Image"}),Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)("i",{class:"fas fa-user"})}),Object(a.jsx)(I,{id:"schoolName",element:"input",placeholder:"School Name",type:"text",className:"form-control sign-in-Box",value:F.inputs.schoolName.value,onInput:R,validators:[y()],errorMessage:"Please enter a valid school name"}),Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)("i",{class:"fas fa-user"})}),Object(a.jsx)(I,{id:"code",element:"input",placeholder:"Enter Code",type:"text",className:"form-control sign-in-Box",value:F.inputs.code.value,onInput:R,validators:[w(6)],errorMessage:"Please enter a valid 6-digit code"})]}),Object(a.jsxs)("div",{className:"email-div",children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)("i",{class:"far fa-envelope"})}),Object(a.jsx)("div",{className:"input",children:Object(a.jsx)(I,{id:"email",element:"input",type:"email",placeholder:"Email",className:"email form-control",value:F.inputs.email.value,onInput:R,validators:[{type:N}],errorMessage:"Please enter a valid email"})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"icon password-icon",children:Object(a.jsx)("i",{class:"fas fa-key"})}),Object(a.jsx)(I,{id:"password",element:"input",type:"password",placeholder:"Password",className:"password form-control",value:F.inputs.password.value,onInput:R,validators:[w(6)],errorMessage:"Please enter a password of length 6"})]}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("button",{className:"btn btn-success LOGIN",disabled:!F.isValid,onClick:function(e){e.preventDefault(),i(!0),H(e)},children:u?"Login":"Signup"}),Object(a.jsxs)("a",{className:"SIGNUP",onClick:function(e){i(!1),u?M(Object(m.a)(Object(m.a)({},F.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!0},schoolName:{value:"",isValid:!1},code:{value:"",isValid:!1}}),!1):M(Object(m.a)(Object(m.a)({},F.inputs),{},{name:void 0,image:void 0,schoolName:void 0,code:void 0}),F.inputs.email.isValid&&F.inputs),h((function(e){return!e}))},children:[u?"Sign up":"Login","?"]}),Object(a.jsx)("br",{}),u&&Object(a.jsx)("a",{className:"SIGNUP",href:"/reset",children:"Forget Password"})]})]})]})]})]})},V=(s.p,s(77)),D=s.n(V),P=s(10),_=s.n(P);s(94);var L=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),s=t[0],r=t[1],i=Object(n.useContext)(p);return Object(a.jsx)("div",{children:Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark",children:[Object(a.jsxs)("a",{className:"navbar-brand",href:"#",children:[Object(a.jsx)("img",{className:"logo",src:O,alt:"logo"}),Object(a.jsx)("span",{style:{color:"red"},children:"I"}),"NNOVENT",Object(a.jsx)("span",{style:{color:"red"},children:"X"})]}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarSupportedContent",children:Object(a.jsxs)("ul",{className:"nav nav-pills justify-content-right",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.c,{to:"/",className:"nav-link",exact:!0,children:"Home"})}),!i.isLogedIn&&Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("div",{className:"portal-div",children:Object(a.jsx)(l.c,{to:"/authenticate",className:"nav-link PORTAL glow-on-hover",children:"Portal"})})}),i.isLogedIn&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.c,{to:"/".concat(i.userId,"/questions"),className:"nav-link",children:"My Ques"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.c,{to:"/".concat(i.userId,"/answers"),className:"nav-link",children:"My Ans"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.c,{to:"/".concat(i.userId,"/savedAnswers"),className:"nav-link",children:"Save"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("form",{className:"form-inline my-2 my-lg-0",children:Object(a.jsxs)("div",{className:"button-in",children:[Object(a.jsx)("input",{className:"form-control search",type:"search",placeholder:"Search","aria-label":"Search",value:s,onChange:function(e){var t=e.target.value;!function(e){for(var t=e.toUpperCase(),s=document.querySelectorAll("h4.question-title"),a=0;a<s.length;a++){var n=document.querySelectorAll("h4.question-title")[a];if(n)n.textContent.toUpperCase().indexOf(t)>-1?document.querySelectorAll("div.question-container")[a].style.display="":document.querySelectorAll("div.question-container")[a].style.display="none"}}(t),r(t)}}),Object(a.jsx)("button",{className:"search-btn",onClick:function(){r("")},children:Object(a.jsx)(D.a,{style:{marginLeft:"12%",color:"white"}})})]})})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsxs)(l.c,{to:"/question/new",style:{textDecoration:"none"},className:"nav-link",children:[Object(a.jsx)("i",{class:"fas fa-plus-circle"})," ASK"]})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("button",{onClick:i.logout,style:{textDecoration:"none"},className:"nav-link logout-btn",children:"LOGOUT"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.c,{to:"/",className:"PROFILE",children:Object(a.jsx)(_.a,{style:{fontSize:"2.7rem",marginLeft:"90%",marginTop:"12%"}})})})]})]})})]})})},B=(s(100),s(101),function(e){var t=Object(n.useState)(["Arduino","RPI","Augmented Reality","Virtual reality","ROS","Dron Tech","my tech"]),s=Object(d.a)(t,2),r=s[0],i=(s[1],r.map((function(e,t){return Object(a.jsx)(l.b,{to:"/questions/".concat(e),className:"single-category",children:e},t)})));return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h6",{className:"category-heading",children:"ALL CATEGORIES"}),Object(a.jsx)("div",{className:"categories-div",children:i})]})}),z=s.p+"static/media/answer.6ae7d385.svg",U=(s(102),function(e){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("div",{className:"question-container",children:[Object(a.jsx)("div",{className:"user-icon",children:e.userImage?Object(a.jsx)("img",{className:"user-icon",style:{height:"2.8rem"},src:"https://community-portal-backend.herokuapp.com"+"/".concat(e.userImage),alt:"User"}):Object(a.jsx)(_.a,{className:"user-icon",style:{fontSize:"1.8rem"}})}),Object(a.jsx)("h6",{className:"student-name",children:e.userName}),Object(a.jsx)("h6",{className:"category",children:e.category}),Object(a.jsx)("h4",{className:"question-title",children:e.title}),Object(a.jsxs)("p",{className:"read-more",children:[e.wholeQuestion.substring(0,120),Object(a.jsx)(l.b,{to:"/ques/".concat(e.id),style:{textDecoration:"none"},children:" ...(read more)"})]}),Object(a.jsx)(l.b,{to:"/ques/".concat(e.id),style:{textDecoration:"none"},children:Object(a.jsxs)("button",{className:"btn btn-warning",children:[Object(a.jsx)("img",{className:"answer-img",src:z,style:{width:"20%",height:"20%",float:"none"}}),Object(a.jsxs)("u",{style:{marginLeft:"4%"},children:[" ",e.answers.length," Answers"]})]})})]})})}),Q=(s(103),function(e){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h6",{className:"answers-heading",children:"FEED"}),Object(a.jsx)("hr",{}),e.allQuestions.map((function(e){return Object(a.jsx)(U,{id:e.id,userId:e.userId,userName:e.userName,userImage:e.userImage,title:e.title,wholeQuestion:e.wholeQuestion,answers:e.answers,category:e.category},e.id)}))]})});var R,M=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),s=t[0],r=t[1],i=Object(n.useState)(),o=Object(d.a)(i,2),l=o[0],u=o[1],h=Object(n.useState)(),m=Object(d.a)(h,2),O=m[0],p=m[1];return Object(n.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,fetch("https://community-portal-backend.herokuapp.com/api/question");case 4:return t=e.sent,e.next=7,t.json();case 7:if(!(s=e.sent).message){e.next=14;break}if("No questions found"!==s.message){e.next=13;break}p(null),e.next=14;break;case 13:throw new Error(s.message);case 14:p(s.questions),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),u(e.t0.message||"Something went wrong, please try again");case 21:r(!1);case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsxs)(c.a.Fragment,{children:[l&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){u(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:l})]}),s&&Object(a.jsx)(C,{asOverlay:!0}),Object(a.jsxs)("div",{className:"home",children:[!s&&O&&Object(a.jsx)("div",{className:"left",children:Object(a.jsx)(B,{})}),Object(a.jsxs)("div",{className:"right",children:[!s&&O&&Object(a.jsx)(Q,{allQuestions:O}),!s&&!O&&Object(a.jsx)("h1",{children:"No questios available"})]})]})]})},H=(s(104),s(78)),G=(s(188),s.p,s.p,s.p,s.p+"static/media/ratings.95755d40.svg"),J=s.p+"static/media/show-more.6998221a.svg",W=s.p+"static/media/rate.ea905ce2.svg",$=(s.p,function(){var e=Object(n.useRef)(null),t=Object(o.g)(),s=Object(n.useContext)(p),r=Object(n.useState)(),i=Object(d.a)(r,2),u=i[0],h=i[1],m=Object(o.h)().quesID,O=Object(n.useState)(),x=Object(d.a)(O,2),g=x[0],f=x[1],v=Object(n.useState)(),N=Object(d.a)(v,2),y=N[0],w=N[1],k=Object(n.useState)(),S=Object(d.a)(k,2),I=S[0],T=S[1],F=Object(n.useState)(!1),V=Object(d.a)(F,2),D=V[0],P=V[1],L=Object(n.useState)(),B=Object(d.a)(L,2),z=(B[0],B[1]),U=Object(n.useState)(!1),Q=Object(d.a)(U,2),R=Q[0],M=Q[1],$=Object(n.useState)(!1),K=Object(d.a)($,2),Y=K[0],X=K[1],Z=Object(n.useState)(!1),ee=Object(d.a)(Z,2),te=ee[0],se=ee[1],ae=Object(n.useState)(),ne=Object(d.a)(ae,2),ce=ne[0],re=ne[1],ie=Object(n.useState)(0),oe=Object(d.a)(ie,2),le=oe[0],ue=oe[1],je=Object(n.useState)(!1),be=Object(d.a)(je,2),de=be[0],he=be[1],me=Object(n.useState)(!1),Oe=Object(d.a)(me,2),pe=Oe[0],xe=Oe[1],ge=Object(n.useState)({value:null,isValid:!1}),fe=Object(d.a)(ge,2),ve=fe[0],Ne=fe[1],ye=function(e){h(e)},we=function(){T(null)},ke=function(e){for(var t=document.getElementsByClassName("sub-ans-div"),s=0;s<t.length;s++)t[s].style.display="none";var a=document.querySelector(".sub-ans-div.ans-".concat(e));console.log(a.style.display),"none"===a.style.display&&le%2===0?(a.style.display="block",ue(le+1)):(a.style.display="none",ue(le+1))},Se=function(e){var t=e.target.value;re(t)};Object(n.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/answer/".concat(m));case 4:return t=e.sent,e.next=7,t.json();case 7:if(!(s=e.sent).message||"No answers found of that question"===s.message){e.next=10;break}throw new Error(s.message);case 10:f(s.question),s.answers?s.answers.forEach(function(){var e=Object(b.a)(j.a.mark((function e(t,a){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.subAnswers.length){e.next=10;break}return e.next=3,fetch("https://community-portal-backend.herokuapp.com/api"+"/subAnswer/".concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:if(!(c=e.sent).message){e.next=9;break}throw new Error(c.message);case 9:t.subAnswers=c.subAnswers;case 10:a===s.answers.length-1&&(w(s.answers),P(!1));case 11:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()):(w(null),P(!1)),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),T(e.t0.message),P(!1);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[R]);var Ie=function(){var t=Object(b.a)(j.a.mark((function t(a){var n,c,r,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!pe||!e.current){t.next=28;break}return n=(n=(n=e.current.getContent()).split(">")[1]).split("<")[0],t.prev=5,(c=new FormData).append("userId",s.userId),c.append("answer",n),c.append("image",ve.value),t.next=12,fetch("https://community-portal-backend.herokuapp.com/api"+"/api/answer/".concat(m,"/"),{method:"POST",headers:{Authorization:"Bearer "+s.token},body:c});case 12:return r=t.sent,t.next=15,r.json();case 15:if(!(i=t.sent).message){t.next=18;break}throw new Error(i.message);case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(5),console.log(t.t0),"WriteConflict error: this operation conflicted with another operation. Please retry your operation or multi-document transaction."!==t.t0.message&&T(t.t0.message);case 24:M((function(e){return!e})),Ne({value:null,isValid:!1}),z(null),he(!1);case 28:case"end":return t.stop()}}),t,null,[[5,20]])})));return function(e){return t.apply(this,arguments)}}(),Ce=function(){var e=Object(b.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://community-portal-backend.herokuapp.com/api"+"/question/".concat(m,"/"),{method:"DELETE",headers:{Authorization:"Bearer "+s.token}});case 3:return a=e.sent,e.next=6,a.json();case 6:if("Question deleted successfully"!==(n=e.sent).message){e.next=11;break}t.push("/"),e.next=12;break;case 11:throw new Error(n.message);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),T(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.name,e.prev=1,e.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/answer/".concat(a),{method:"DELETE",headers:{Authorization:"Bearer "+s.token}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(c=e.sent,console.log(c.message),"Deleted successfully"!==c.message){e.next=16;break}h(null),M((function(e){return!e})),Ne({value:null,isValid:!1}),he(!1),e.next=17;break;case 16:throw new Error(c.message);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0),T(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://community-portal-backend.herokuapp.com/api"+"/answer/rating/".concat(t),{method:"PATCH",headers:{Authorization:"Bearer "+s.token}});case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(n=e.sent).message){e.next=9;break}throw new Error(n.message);case 9:X(!0),M((function(e){return!e})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),T(I);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.userId,e.prev=1,e.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/user/".concat(a,"/save/").concat(t),{method:"PATCH",headers:{Authorization:"Bearer "+s.token}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(!(c=e.sent).message){e.next=10;break}throw new Error(c.message);case 10:T("Saved successfully"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),T(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.userId,e.prev=1,e.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/subAnswer/".concat(t,"/newSubAnswer"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.token},body:JSON.stringify({userId:a,subAnswer:ce})});case 4:return n=e.sent,e.next=7,n.json();case 7:if(!(c=e.sent).message){e.next=10;break}throw new Error(c.message);case 10:M((function(e){return!e})),re(null),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),T(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(c.a.Fragment,{children:[I&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:we}),Object(a.jsx)(A,{heading:"Error Occured!",error:I})]}),D&&Object(a.jsx)(C,{asOverlay:!0}),!D&&g&&Object(a.jsxs)(c.a.Fragment,{children:[u&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:we}),Object(a.jsxs)("div",{className:"show-delete-section",children:[Object(a.jsx)("h1",{children:"Are You Sure?"}),Object(a.jsxs)("p",{children:["Do you want to delete your ","question"===u?"question":"answer"]}),Object(a.jsx)("button",{onClick:"question"===u?Ce:Ee,name:u,children:"DELETE"}),Object(a.jsx)("button",{onClick:function(){h(null)},children:"CANCLE"})]})]}),Object(a.jsxs)("div",{className:"question-container",children:[s.userId===g.userId?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("button",{className:"btn delete-btn",style:{float:"right"},name:"question",onClick:function(){ye("question")},children:Object(a.jsx)("i",{class:"fas fa-trash-alt"})}),Object(a.jsx)(l.b,{to:"/".concat(m,"/update"),children:Object(a.jsx)("button",{className:"btn update-btn",style:{float:"right"},children:Object(a.jsx)("i",{class:"fas fa-edit"})})})]}):null,Object(a.jsx)("div",{className:"user-icon",children:g.userImage?Object(a.jsx)("img",{className:"users-icon",src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(g.userImage),alt:"User"}):Object(a.jsx)(_.a,{className:"user-icon",style:{fontSize:"1.8rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[g.userName," \u2022 just now"]}),Object(a.jsx)("h6",{className:"category",children:g.category}),Object(a.jsx)("h4",{className:"question-title",children:g.title}),g.image&&Object(a.jsx)("img",{className:"image-container",src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(g.image),alt:"Image"}),Object(a.jsx)("p",{children:g.wholeQuestion}),s.isLogedIn?Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("button",{className:"btn give-ans-btn",onClick:function(){!function(){var e=document.querySelector(".post-ans-div");"none"===e.style.display?e.style.display="block":e.style.display="none"}()},children:[Object(a.jsx)("i",{class:"fas fa-comment-medical"})," Give Answer"]})}):Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("a",{href:"/authenticate",children:Object(a.jsxs)("button",{className:"btn give-ans-btn",children:[Object(a.jsx)("i",{class:"fas fa-comment-medical"})," Give Answer"]})})})]}),Object(a.jsx)("div",{className:"post-ans-div",children:Object(a.jsxs)("form",{onSubmit:Ie,children:[de&&Object(a.jsx)(q,{id:"image",onInput:function(e,t,s){Ne({value:t,isValid:s})},center:!0,isValid:!0}),Object(a.jsx)("button",{id:"add-image-btn",style:{margin:"1% 6%"},class:"btn btn-warning",onClick:function(e){e.preventDefault(),he(!0),document.querySelector("#add-image-btn").style.display="none"},children:"Add Image?"}),Object(a.jsx)(H.a,{onInit:function(t,s){return e.current=s},initialValue:"",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}),Object(a.jsxs)("button",{className:"btn post-btn",onClick:function(e){e.preventDefault(),xe(!0),Ie(e)},children:[Object(a.jsx)("i",{class:"fas fa-paper-plane"})," Post"]})]})}),y&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h6",{className:"answers-heading",children:"Answers"}),Object(a.jsx)("hr",{})]}),y&&Object(a.jsx)("div",{className:"answers-div",children:y.map((function(e,t){return!te&&t<3?Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("div",{className:"answer-container",children:[s.userId===e.userId?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("button",{className:"btn delete-btn",style:{float:"right"},name:e.id,onClick:function(){ye(e.id)},children:Object(a.jsx)("i",{class:"fas fa-trash-alt"})}),Object(a.jsx)(l.b,{to:"/update/".concat(e.id),children:Object(a.jsx)("button",{className:"btn update-btn",style:{float:"right"},children:Object(a.jsx)("i",{class:"fas fa-edit"})})})]}):null,s.isLogedIn?s.userId!==e.userId?Object(a.jsx)("button",{className:"btn rate-btn",disabled:Y,onClick:function(){Ae(e.id)},style:{float:"right"},children:Object(a.jsx)("img",{className:"rate-img",src:W})}):null:Object(a.jsx)("a",{href:"/authenticate",children:Object(a.jsx)("button",{className:"btn rate-btn",disabled:Y,onClick:function(){Ae(e.id)},style:{float:"right"},children:Object(a.jsx)("img",{className:"rate-img",src:W})})}),Object(a.jsx)("div",{className:"user-icon",children:e.userImage?Object(a.jsx)("div",{clssName:"item__image",children:Object(a.jsx)("img",{className:"users-icon",src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(e.userImage),alt:"User"})}):Object(a.jsx)(_.a,{className:"user-icon",style:{fontSize:"1.8rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[e.userName," \u2022 just now"]}),Object(a.jsxs)("h6",{className:"category",children:[e.rating,Object(a.jsx)("img",{className:"ratings-img",src:G})]}),e.image&&Object(a.jsx)("div",{clssName:"item__image",children:Object(a.jsx)("img",{className:"image-container",src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(e.image),alt:"Image"})}),Object(a.jsx)("p",{className:"answers",children:e.answer}),s.isLogedIn&&0!==e.subAnswers.length?e.subAnswers.map((function(t){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("div",{className:"sub-ANS",children:[Object(a.jsx)("div",{className:"user-icon",children:t.userImage?Object(a.jsx)("div",{clssName:"item__image",children:Object(a.jsx)("img",{className:"users-icon",src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(t.userImage),alt:"User"})}):Object(a.jsx)(_.a,{className:"user-icon",style:{fontSize:"1.8rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[t.userName," \u2022 just now"]}),Object(a.jsxs)("h6",{className:"category",children:[e.rating,Object(a.jsx)("img",{className:"ratings-img",src:G})]}),Object(a.jsx)("p",{className:"answers",children:t.subAnswer})]})})})):null,s.isLogedIn&&s.userId!==e.userId&&Object(a.jsx)("button",{className:"btn save-btn",onClick:function(){qe(e.id)},children:Object(a.jsx)("i",{class:"fas fa-bookmark"})}),s.isLogedIn&&Object(a.jsx)("button",{className:"btn post-subAns-btn",style:{float:"left"},onClick:function(){ke(e.id)},children:"REPLY"}),Object(a.jsx)("div",{className:"sub-ans-div ans-".concat(e.id),children:Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),Te(e.id)},children:[Object(a.jsx)("textarea",{className:"post-ans-text form-control",id:"txtarea",rows:"3",value:ce,onChange:Se,placeholder:"Write your query here .."}),Object(a.jsxs)("button",{className:"btn post-btn",children:[Object(a.jsx)("i",{class:"fas fa-paper-plane"})," Post"]})]})})]})}):te?Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("div",{className:"answer-container",children:[s.userId===e.userId?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("button",{className:"btn delete-btn",style:{float:"right"},name:e.id,onClick:function(){ye(e.id)},children:Object(a.jsx)("i",{class:"fas fa-trash-alt"})}),Object(a.jsx)(l.b,{to:"/update/".concat(e.id),children:Object(a.jsx)("button",{className:"btn update-btn",style:{float:"right"},children:Object(a.jsx)("i",{class:"fas fa-edit"})})})]}):null,s.isLogedIn?s.userId!==e.userId?Object(a.jsx)("button",{className:"btn rate-btn",disabled:Y,onClick:function(){Ae(e.id)},style:{float:"right"},children:Object(a.jsx)("img",{className:"rate-img",src:W})}):null:Object(a.jsx)("a",{href:"/authenticate",children:Object(a.jsx)("button",{className:"btn rate-btn",disabled:Y,onClick:function(){Ae(e.id)},style:{float:"right"},children:Object(a.jsx)("img",{className:"rate-img",src:W})})}),Object(a.jsx)("div",{className:"user-icon",children:e.userImage?Object(a.jsx)("div",{className:"item__image",children:Object(a.jsx)("img",{className:"users-icon",src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(e.userImage),alt:"User"})}):Object(a.jsx)(_.a,{className:"user-icon",style:{fontSize:"1.8rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[e.userName," \u2022 just now"]}),Object(a.jsxs)("h6",{className:"category",children:[e.rating,Object(a.jsx)("img",{className:"ratings-img",src:G})]}),e.image&&Object(a.jsx)("div",{clssName:"item__image",children:Object(a.jsx)("img",{className:"image-container",src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(e.image),alt:"Image"})}),Object(a.jsx)("p",{className:"answers",children:e.answer}),s.isLogedIn&&0!==e.subAnswers.length?e.subAnswers.map((function(t){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("div",{className:"sub-ANS",children:[Object(a.jsx)("div",{className:"user-icon",children:t.userImage?Object(a.jsx)("div",{className:"item__image",children:Object(a.jsx)("img",{className:"users-icon",src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(t.userImage),alt:"User"})}):Object(a.jsx)(_.a,{className:"user-icon",style:{fontSize:"1.8rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[t.userName," \u2022 just now"]}),Object(a.jsxs)("h6",{className:"category",children:[e.rating,Object(a.jsx)("img",{className:"ratings-img",src:G})]}),Object(a.jsx)("p",{className:"answers",children:t.subAnswer})]})})})):null,s.isLogedIn&&s.userId!==e.userId&&Object(a.jsx)("button",{className:"btn save-btn",onClick:function(){qe(e.id)},children:Object(a.jsx)("i",{class:"fas fa-bookmark"})}),s.isLogedIn&&Object(a.jsx)("button",{className:"btn post-subAns-btn",style:{float:"left"},onClick:function(){ke(e.id)},children:"REPLY"}),Object(a.jsx)("div",{className:"sub-ans-div ans-".concat(e.id),children:Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),Te(e.id)},children:[Object(a.jsx)("textarea",{className:"post-ans-text flow-control",rows:"3",value:ce,onChange:Se,placeholder:"     Write your query here .."}),Object(a.jsxs)("button",{className:"btn post-btn",children:[Object(a.jsx)("i",{class:"fas fa-paper-plane"})," Post"]})]})})]})}):void 0}))}),s.isLogedIn?Object(a.jsx)(c.a.Fragment,{children:y&&(y.length>3?Object(a.jsxs)("button",{className:"btn show-more-btn",onClick:function(){document.querySelector(".show-more-btn").style.display="none",se(!0)},children:[Object(a.jsx)("i",{class:"fas fa-caret-square-down"})," Show More"]}):null)}):Object(a.jsx)(c.a.Fragment,{children:y&&(y.length>3?Object(a.jsx)("a",{href:"/authenticate",children:Object(a.jsxs)("button",{className:"show-more-btn",children:[Object(a.jsx)("img",{className:"show-more-img",src:J}),"Show more"]})}):null)})]})]})}),K=function(){var e=Object(o.h)().catID,t=Object(n.useState)(),s=Object(d.a)(t,2),r=s[0],i=s[1],l=Object(n.useState)(!1),u=Object(d.a)(l,2),h=u[0],m=u[1],O=Object(n.useState)(),p=Object(d.a)(O,2),x=p[0],g=p[1];return Object(n.useEffect)((function(){(function(){var t=Object(b.a)(j.a.mark((function t(){var s,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m(!0),t.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/question/category/".concat(e));case 4:return s=t.sent,t.next=7,s.json();case 7:if(!(a=t.sent).message||"No questions of mentioned category"===a.message){t.next=10;break}throw new Error(a.message);case 10:i(a.questions),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),g(t.t0.message);case 17:m(!1);case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(a.jsxs)(c.a.Fragment,{children:[x&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){g(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:x})]}),h&&Object(a.jsx)(C,{asOverlay:!0}),!h&&Object(a.jsxs)("div",{className:"home",children:[Object(a.jsx)("div",{className:"left",children:Object(a.jsx)(B,{})}),Object(a.jsxs)("div",{className:"right",children:[r&&Object(a.jsx)(Q,{allQuestions:r}),!r&&Object(a.jsx)("h1",{children:"No questios of this category available"})]})]})]})},Y=(s(189),function(){var e=Object(o.h)().userId,t=Object(n.useContext)(p),s=Object(n.useState)(),r=Object(d.a)(s,2),i=r[0],l=r[1],u=Object(n.useState)(!1),h=Object(d.a)(u,2),m=h[0],O=h[1],x=Object(n.useState)(),g=Object(d.a)(x,2),f=g[0],v=g[1];return Object(n.useEffect)((function(){(function(){var s=Object(b.a)(j.a.mark((function s(){var a,n;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,O(!0),s.next=4,fetch("".concat("https://community-portal-backend.herokuapp.com/api","/user/").concat(e,"/questions"),{headers:{Authorization:"Bearer "+t.token}});case 4:return a=s.sent,s.next=7,a.json();case 7:if(!(n=s.sent).message||"No questions found"===n.message){s.next=10;break}throw new Error(n.message);case 10:l(n.questions),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(0),console.log(s.t0),v(s.t0.message);case 17:O(!1);case 18:case"end":return s.stop()}}),s,null,[[0,13]])})));return function(){return s.apply(this,arguments)}})()()}),[]),Object(a.jsxs)(c.a.Fragment,{children:[f&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){v(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:f})]}),m&&Object(a.jsx)(C,{asOverlay:!0}),!m&&Object(a.jsxs)("div",{className:"home",children:[Object(a.jsx)("div",{className:"left",children:Object(a.jsx)(B,{})}),Object(a.jsxs)("div",{className:"right",children:[i&&Object(a.jsx)(Q,{allQuestions:i}),!i&&Object(a.jsxs)("h1",{style:{color:"white"},children:[Object(a.jsx)("i",{style:{color:"#ffc107"},class:"fas fa-exclamation-triangle"})," No questios of this category available"]})]})]})]})}),X=(s(190),function(e,t){switch(t.type){case"INPUT_CHANGE":var s=!0;for(var a in e.inputs)e.inputs[a]&&(s=a===t.inputId?s&&t.isValid:s&&e.inputs[a].isValid);return Object(m.a)(Object(m.a)({},e),{},{inputs:Object(m.a)(Object(m.a)({},e.inputs),{},Object(h.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:s});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}}),Z=function(e,t){var s=Object(n.useReducer)(X,{inputs:e,isValid:t}),a=Object(d.a)(s,2),c=a[0],r=a[1];return[c,Object(n.useCallback)((function(e,t,s){r({type:"INPUT_CHANGE",value:t,isValid:s,inputId:e})}),[]),Object(n.useCallback)((function(e,t){r({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]},ee=function(){var e=Object(n.useContext)(p),t=Object(o.g)(),s=Object(n.useState)(),r=Object(d.a)(s,2),i=r[0],l=r[1],u=Object(n.useState)(!1),h=Object(d.a)(u,2),m=h[0],O=h[1],x=Object(n.useState)(),g=Object(d.a)(x,2),f=g[0],v=g[1],N=Object(n.useState)(!1),k=Object(d.a)(N,2),S=k[0],T=k[1],F=Object(n.useState)(!1),V=Object(d.a)(F,2),D=V[0],P=V[1],L=Z({category:{value:"",isValid:!1},title:{value:"",isValid:!1},wholeQuestion:{value:"",isValid:!1},image:{value:null,isValid:!0}},!1),B=Object(d.a)(L,2),z=B[0],U=B[1];Object(n.useEffect)((function(){(function(){var t=Object(b.a)(j.a.mark((function t(){var s,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,O(!0),t.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/user/".concat(e.userId),{headers:{Authorization:"Bearer "+e.token}});case 4:return s=t.sent,t.next=7,s.json();case 7:if(!(a=t.sent).message){t.next=10;break}throw new Error(a.message);case 10:v(a.user.name),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),l(t.t0);case 17:O(!1);case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var Q=function(){var s=Object(b.a)(j.a.mark((function s(a){var n,c,r;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(a.preventDefault(),!D){s.next=24;break}return s.prev=2,(n=new FormData).append("userId",e.userId),n.append("title",z.inputs.title.value),n.append("category",z.inputs.category.value),n.append("wholeQuestion",z.inputs.wholeQuestion.value),n.append("image",z.inputs.image.value),s.next=11,fetch("https://community-portal-backend.herokuapp.com/api/question/",{method:"POST",headers:{Authorization:"Bearer "+e.token},body:n});case 11:return c=s.sent,s.next=14,c.json();case 14:if(!(r=s.sent).message){s.next=17;break}throw new Error(r.message);case 17:t.push("/"),s.next=24;break;case 20:s.prev=20,s.t0=s.catch(2),console.log(s.t0),l(s.t0.message);case 24:case"end":return s.stop()}}),s,null,[[2,20]])})));return function(e){return s.apply(this,arguments)}}();return Object(a.jsxs)(c.a.Fragment,{children:[i&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){l(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:i})]}),m&&Object(a.jsx)(C,{asOverlay:!0}),!m&&f&&Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"ask-question-container",children:[Object(a.jsx)("div",{className:"user-icon",children:Object(a.jsx)(_.a,{className:"user-icon",style:{fontSize:"3.3rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[f," ",Object(a.jsx)("i",{style:{color:"gray"},children:"asked"})]}),Object(a.jsx)(I,{id:"title",element:"textarea",placeholder:"Add description of your question here",errorMessage:"Please enter a valid title",validators:[y()],onInput:U,className:"form-control que-title-text",rows:"2"})]}),Object(a.jsxs)("div",{className:"ask-question-container",children:[Object(a.jsx)("h6",{children:"Add Category"}),Object(a.jsx)(I,{id:"category",element:"input",type:"text",label:"Category",placeholder:"Arduino",className:"form-control cat",errorMessage:"Please enter a category",validators:[y()],onInput:U})]}),S&&Object(a.jsx)(q,{id:"image",onInput:U,center:!0,isValid:!0}),Object(a.jsx)("button",{id:"add-image-btn",class:"add-image-btn btn btn-warning",onClick:function(e){e.preventDefault(),T(!0),document.querySelector("#add-image-btn").style.display="none"},children:"Add Image?"}),Object(a.jsx)("div",{className:"que-body-container",children:Object(a.jsx)(I,{id:"wholeQuestion",element:"textarea",errorMessage:"Question must be of 10 Characters",validators:[w(10)],onInput:U,className:"form-control que-body-text",rows:"7",placeholder:"Add description of your question here..."})}),Object(a.jsx)("div",{className:"submit-btn-div",children:Object(a.jsxs)("button",{className:"btn ask-submit-btn",disabled:!z.isValid,onClick:function(e){e.preventDefault(),P(!0),Q(e)},children:[Object(a.jsx)("i",{class:"fas fa-check-circle"})," Submit"]})})]})]})},te=(s(191),function(e){var t=Object(o.g)(),s=Object(n.useContext)(p),r=Object(o.h)().quesId,i=Object(n.useState)(!1),l=Object(d.a)(i,2),u=l[0],h=l[1],m=Object(n.useState)(),O=Object(d.a)(m,2),x=O[0],g=O[1],f=Object(n.useState)(),v=Object(d.a)(f,2),N=v[0],k=v[1],S=Z({category:{value:"",isValid:!1},title:{value:"",isValid:!1},wholeQuestion:{value:"",isValid:!1}},!1),q=Object(d.a)(S,3),T=q[0],F=q[1],V=q[2];Object(n.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,fetch("".concat("https://community-portal-backend.herokuapp.com/api","/question/").concat(r),{headers:{Authorization:"Bearer "+s.token}});case 4:return t=e.sent,e.next=7,t.json();case 7:if(!(a=e.sent).message){e.next=10;break}throw new Error(a.message);case 10:k(a.question.userName),V({category:{value:a.question.category,isValid:!0},title:{value:a.question.title,isValid:!0},wholeQuestion:{value:a.question.wholeQuestion,isValid:!0}},!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),g(e.t0.message);case 18:h(!1);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var D=function(){var e=Object(b.a)(j.a.mark((function e(a){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,fetch("".concat("https://community-portal-backend.herokuapp.com/api","/question/").concat(r),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.token},body:JSON.stringify({title:T.inputs.title.value,category:T.inputs.category.value,wholeQuestion:T.inputs.wholeQuestion.value})});case 4:return n=e.sent,e.next=7,n.json();case 7:if(!(c=e.sent).message){e.next=10;break}throw new Error(c.message);case 10:t.push("/ques/".concat(r)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),g(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(c.a.Fragment,{children:[x&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){g(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:x})]}),u&&Object(a.jsx)(C,{asOverlay:!0}),!u&&N&&Object(a.jsxs)("form",{onSubmit:D,children:[Object(a.jsxs)("div",{className:"ask-question-container",children:[Object(a.jsx)("div",{className:"user-icon",children:Object(a.jsx)(_.a,{className:"user-icon",style:{fontSize:"3.3rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[N," \u2022 asked"]}),Object(a.jsx)(I,{id:"title",element:"textarea",value:T.inputs.title.value,isValid:T.inputs.title.isValid,isTouch:!0,errorMessage:"Please enter a valid title",validators:[y()],onInput:F,className:"que-title-text",rows:"2"})]}),Object(a.jsxs)("div",{className:"ask-question-container",children:[Object(a.jsx)("h6",{children:"Add Category"}),Object(a.jsx)(I,{id:"category",element:"input",type:"text",label:"Category",value:T.inputs.category.value,isValid:T.inputs.category.isValid,isTouch:!0,errorMessage:"Please enter a category",validators:[y()],onInput:F,className:"cat"})]}),Object(a.jsx)("div",{className:"que-body-container",children:Object(a.jsx)(I,{id:"wholeQuestion",element:"textarea",value:T.inputs.wholeQuestion.value,isValid:T.inputs.wholeQuestion.isValid,isTouch:!0,errorMessage:"Question must be of 10 Characters",validators:[w(10)],onInput:F,className:"que-body-text",rows:"7"})}),Object(a.jsx)("button",{className:"submit-btn",disabled:!T.isValid,children:"Submit"})]})]})}),se=(s(192),function(e){var t=Object(o.g)(),s=Object(n.useContext)(p),r=Object(o.h)().answerId,i=Object(n.useState)(!1),l=Object(d.a)(i,2),u=l[0],h=l[1],m=Object(n.useState)(),O=Object(d.a)(m,2),x=O[0],g=O[1],f=Z({answer:{value:"",isValid:!1}},!1),v=Object(d.a)(f,3),N=v[0],w=v[1],k=v[2];Object(n.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,fetch("".concat("https://community-portal-backend.herokuapp.com/api","/answer/getAnswer/").concat(r),{headers:{Authorization:"Bearer "+s.token}});case 4:return t=e.sent,e.next=7,t.json();case 7:if(!(a=e.sent).message){e.next=10;break}throw new Error(a.message);case 10:k({answer:{value:a.answer.answer,isValid:!0}},!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),g(e.t0.message);case 17:h(!1);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var S=function(){var e=Object(b.a)(j.a.mark((function e(a){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,fetch("".concat("https://community-portal-backend.herokuapp.com/api","/answer/").concat(r),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.token},body:JSON.stringify({answer:N.inputs.answer.value})});case 4:return n=e.sent,e.next=7,n.json();case 7:if(!(c=e.sent).message){e.next=10;break}throw new Error(c.message);case 10:t.push("/ques/".concat(c.answer.questionId)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),g(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(c.a.Fragment,{children:[x&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){g(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:x})]}),u&&Object(a.jsx)(C,{asOverlay:!0}),!u&&Object(a.jsxs)("form",{onSubmit:S,children:[Object(a.jsx)("p",{className:"U-ans-heading",children:"Your Answer"}),Object(a.jsx)("div",{className:"U-ans-text",children:Object(a.jsx)(I,{id:"answer",element:"textarea",type:"text",className:" post-ans-text form-control U-ans-text",rows:"5",value:N.inputs.answer.value,isValid:N.inputs.answer.isValid,isTouch:!0,errorMessage:"Please write your answer.",validators:[y()],onInput:w})}),Object(a.jsxs)("button",{disabled:!N.isValid,className:"btn btn-outline-danger submit-btn",children:[Object(a.jsx)("i",{class:"fas fa-check-circle"})," Submit"]})]})]})}),ae=(s(193),function(){var e=Object(o.h)().userId,t=Object(n.useContext)(p),s=Object(n.useState)(),r=Object(d.a)(s,2),i=r[0],u=r[1],h=Object(n.useState)(!1),m=Object(d.a)(h,2),O=m[0],x=m[1],g=Object(n.useState)(),f=Object(d.a)(g,2),v=f[0],N=f[1];return Object(n.useEffect)((function(){(function(){var s=Object(b.a)(j.a.mark((function s(){var a,n;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,x(!0),s.next=4,fetch("".concat("https://community-portal-backend.herokuapp.com/api","/user/").concat(e,"/answers"),{headers:{Authorization:"Bearer "+t.token}});case 4:return a=s.sent,s.next=7,a.json();case 7:if(!(n=s.sent).message||"No answers are given by user"===n.message){s.next=10;break}throw new Error(n.message);case 10:u(n.quesAns),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(0),console.log(s.t0),N(s.t0.message);case 17:x(!1);case 18:case"end":return s.stop()}}),s,null,[[0,13]])})));return function(){return s.apply(this,arguments)}})()()}),[]),Object(a.jsxs)(c.a.Fragment,{children:[v&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){N(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:v})]}),O&&Object(a.jsx)(C,{asOverlay:!0}),!O&&Object(a.jsxs)("div",{className:"home",children:[Object(a.jsx)("div",{className:"left",children:Object(a.jsx)(B,{})}),Object(a.jsxs)("div",{className:"right",children:[i&&i.map((function(e){return Object(a.jsxs)("div",{className:"container",children:[e.userImage?Object(a.jsx)("img",{className:"user-icon",style:{height:"2.8rem"},src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(e.userImage),alt:"User"}):Object(a.jsx)("div",{className:"user-icon",children:Object(a.jsx)(_.a,{style:{fontSize:"3.3rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[e.question.userName," \u2022 just now"]}),Object(a.jsx)(l.b,{style:{textDecoration:"none"},to:"/ques/".concat(e.question._id),children:Object(a.jsx)("h4",{className:"question-title",children:e.question.title})}),Object(a.jsxs)("div",{className:"answer-container-save",children:[e.userImage?Object(a.jsx)("img",{className:"user-icon",style:{height:"2.8rem"},src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(e.userImage),alt:"User"}):Object(a.jsx)("div",{className:"user-icon",children:Object(a.jsx)(_.a,{style:{fontSize:"3.3rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[e.ans.userName,Object(a.jsx)("p",{className:"student-tag",children:"'s answer"})]}),Object(a.jsxs)("h6",{className:"category",children:[e.ans.rating,Object(a.jsx)("img",{className:"ratings-img",src:G})]}),Object(a.jsx)("p",{className:"answers",children:e.ans.answer})]})]})})),!i&&Object(a.jsx)("h1",{children:"No answers are given by user"})]})]})]})}),ne=(s(194),function(){Object(o.h)().userId;var e=Object(n.useContext)(p),t=Object(n.useState)(),s=Object(d.a)(t,2),r=s[0],i=s[1],u=Object(n.useState)(!1),h=Object(d.a)(u,2),m=h[0],O=h[1],x=Object(n.useState)(),g=Object(d.a)(x,2),f=g[0],v=g[1];return Object(n.useEffect)((function(){(function(){var t=Object(b.a)(j.a.mark((function t(){var s,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,O(!0),t.next=4,fetch("".concat("https://community-portal-backend.herokuapp.com/api","/user/").concat(e.userId,"/savedAnswers"),{headers:{Authorization:"Bearer "+e.token}});case 4:return s=t.sent,t.next=7,s.json();case 7:if(!(a=t.sent).message||"No answers were saved by the user."===a.message){t.next=10;break}throw new Error(a.message);case 10:i(a.quesAns),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),v(t.t0.message);case 17:O(!1);case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(a.jsxs)(c.a.Fragment,{children:[f&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){v(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:f})]}),m&&Object(a.jsx)(C,{asOverlay:!0}),!m&&Object(a.jsxs)("div",{className:"home",children:[Object(a.jsx)("div",{className:"left",children:Object(a.jsx)(B,{})}),Object(a.jsxs)("div",{className:"right",children:[r&&r.map((function(e){return Object(a.jsxs)("div",{className:"container",children:[e.userImage?Object(a.jsx)("img",{className:"user-icon",style:{height:"2.8rem"},src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(e.userImage),alt:"User"}):Object(a.jsx)("div",{className:"user-icon",children:Object(a.jsx)(_.a,{style:{fontSize:"3.3rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[e.question.userName," \u2022 just now"]}),Object(a.jsx)(l.b,{style:{textDecoration:"none"},to:"/ques/".concat(e.question._id),children:Object(a.jsx)("h4",{className:"question-title",children:e.question.title})}),Object(a.jsxs)("div",{className:"answer-container-save",children:[e.userImage?Object(a.jsx)("img",{className:"user-icon",style:{height:"2.8rem"},src:"".concat("https://community-portal-backend.herokuapp.com","/").concat(e.userImage),alt:"User"}):Object(a.jsx)("div",{className:"user-icon",children:Object(a.jsx)(_.a,{style:{fontSize:"3.3rem"}})}),Object(a.jsxs)("h6",{className:"student-name",children:[e.ans.userName,Object(a.jsx)("p",{className:"student-tag",children:"'s answer"})]}),Object(a.jsxs)("h6",{className:"category",children:[e.ans.rating,Object(a.jsx)("img",{className:"ratings-img",src:G})]}),Object(a.jsx)("p",{className:"answers",children:e.ans.answer})]})]})})),!r&&Object(a.jsx)("h1",{children:"No answers were saved by the user."})]})]})]})}),ce=s(20),re=s.n(ce),ie=function(){var e=Object(o.g)(),t=Object(n.useState)(""),s=Object(d.a)(t,2),c=s[0],r=s[1];return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"card auth-card input-field",color:"black",children:[Object(a.jsx)("h2",{children:"Password Reset"}),Object(a.jsx)("input",{type:"text",style:{color:"black"},placeholder:"email",value:c,onChange:function(e){return r(e.target.value)}}),Object(a.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c)?fetch("${process.env.REACT_APP_BACKEND_URL}/user/reset-password",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})}).then((function(e){return e.json()})).then((function(t){t.error?re.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(re.a.toast({html:t.message,classes:"#43a047 green darken-1"}),e.push("/authenticate"))})).catch((function(e){console.log(e)})):re.a.toast({html:"invalid email",classes:"#c62828 red darken-3"})},children:"reset password"})]})})},oe=function(){var e=Object(o.g)(),t=Object(n.useState)(""),s=Object(d.a)(t,2),c=s[0],r=s[1],i=Object(o.h)().token;console.log(i);return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"New Password"}),Object(a.jsx)("input",{type:"password",style:{color:"black"},placeholder:"enter a new password",value:c,onChange:function(e){return r(e.target.value)}}),Object(a.jsx)("button",{onClick:function(){fetch("${process.env.REACT_APP_BACKEND_URL}/user/new-password",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:c,token:i})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?re.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(re.a.toast({html:t.message,classes:"#43a047 green darken-1"}),e.push("/authenticate"))})).catch((function(e){console.log(e)}))},children:"Update password"})]})})},le=(s(195),function(e){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("div",{className:"course-container shadows",children:[Object(a.jsx)("h3",{className:"course-name",children:e.name}),Object(a.jsx)("p",{children:e.description[0].para}),Object(a.jsxs)("h6",{className:"rating",children:[e.rating,Object(a.jsx)("img",{className:"ratings-img",src:G})]}),Object(a.jsxs)("p",{className:"prices",children:["\u20b9 ",e.price]}),e.lastSeenSectionId?Object(a.jsx)(l.b,{to:"/subTopic/".concat(e.lastSeenSectionId),style:{textDecoration:"none"},children:Object(a.jsx)("button",{id:"testbutton",className:"btn"})}):Object(a.jsx)(l.b,{to:"/course/".concat(e.id),style:{textDecoration:"none"},children:Object(a.jsx)("button",{id:"testbutton",className:"btn"})})]})})}),ue=function(e){var t=Object(n.useState)(e.courses),s=Object(d.a)(t,2),r=s[0];s[1];return Object(a.jsx)(c.a.Fragment,{children:r.map((function(e){return Object(a.jsx)(le,{id:e.id,name:e.name,description:e.desc,rating:e.rating,price:e.price,totalTime:e.totalTime,lastSeenSectionId:e.lastSeenSectionId?e.lastSeenSectionId:null})}))})},je=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),s=t[0],r=t[1],i=Object(n.useState)(),o=Object(d.a)(i,2),l=o[0],u=o[1],h=Object(n.useState)(),m=Object(d.a)(h,2),O=m[0],p=m[1];Object(n.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,fetch("https://community-portal-backend.herokuapp.com/api/course/");case 4:return t=e.sent,e.next=7,t.json();case 7:if(!(s=e.sent).message||"No Course found"===s.message){e.next=10;break}throw new Error(s.message);case 10:p(s.courses),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),u(e.t0.message||"Something went wrong, please try again");case 17:r(!1);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(a.jsxs)(c.a.Fragment,{children:[l&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){u(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:l})]}),s&&Object(a.jsx)(C,{asOverlay:!0}),!s&&O&&Object(a.jsx)(ue,{courses:O})]})},be=(s(196),function(){var e=Object(o.h)().courseId,t=Object(n.useContext)(p),s=(Object(o.g)(),Object(n.useState)(!1)),r=Object(d.a)(s,2),i=r[0],u=r[1],h=Object(n.useState)(),m=Object(d.a)(h,2),O=m[0],x=m[1],g=Object(n.useState)(),f=Object(d.a)(g,2),v=f[0],N=f[1];Object(n.useEffect)((function(){(function(){var s=Object(b.a)(j.a.mark((function s(){var a,n;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,u(!0),s.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/course/".concat(e),{headers:{Authorization:"Bearer "+t.token}});case 4:return a=s.sent,s.next=7,a.json();case 7:if(!(n=s.sent).message){s.next=10;break}throw new Error(n.message);case 10:N(n.course),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(0),console.log(s.t0),x(s.t0.message||"Something went wrong, please try again");case 17:u(!1);case 18:case"end":return s.stop()}}),s,null,[[0,13]])})));return function(){return s.apply(this,arguments)}})()()}),[]);var y=function(){var e=Object(b.a)(j.a.mark((function e(){var s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/course/enrollcourse/".concat(v.id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token},body:JSON.stringify({userId:t.userId})});case 4:return s=e.sent,e.next=7,s.json();case 7:if(!(a=e.sent).message){e.next=10;break}throw new Error(a.message);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),x(e.t0.message||"Something went wrong, please try again");case 16:u(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(c.a.Fragment,{children:[O&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){x(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:O})]}),i&&Object(a.jsx)(C,{asOverlay:!0}),!i&&v&&Object(a.jsxs)("div",{className:"course",children:[Object(a.jsxs)("div",{className:"course-heading",children:[Object(a.jsx)("h1",{className:"course-name",children:v.name}),Object(a.jsxs)("h6",{className:"rating",children:[v.rating,Object(a.jsx)("img",{className:"ratings-img",src:G})]}),Object(a.jsxs)("div",{className:"course-subDIV",children:[Object(a.jsxs)("p",{className:"price",children:["\u20b9",v.price]}),t.isLogedIn?Object(a.jsx)(l.b,{to:"/first/subTopic/".concat(v.topics[0].subTopics[0]._id),children:Object(a.jsxs)("button",{className:"btn btn-outline-dark enroll-btn",onClick:y,children:[Object(a.jsx)("i",{style:{fontSize:"1.4rem"},class:"far fa-plus-square"})," Enroll Now"]})}):Object(a.jsx)("a",{href:"/authenticate",style:{textDecoration:"none"},children:Object(a.jsxs)("button",{className:"btn btn-outline-dark enroll-btn",children:[Object(a.jsx)("i",{style:{fontSize:"1.4rem"},class:"far fa-plus-square"})," Enroll Now"]})}),Object(a.jsx)("div",{className:"course-features",children:Object(a.jsxs)("p",{children:[Object(a.jsx)("i",{class:"fas fa-video"})," 40 hours on-demand video"]})})]}),Object(a.jsxs)("p",{className:"time",children:[v.totalTime," hours"]})]}),Object(a.jsxs)("div",{className:"description-container",children:[Object(a.jsx)("h3",{style:{fontWeight:"700",marginBottom:"5%"},children:"What you will learn"}),v.desc.map((function(e){return Object(a.jsxs)("p",{className:"learn-desription",children:[Object(a.jsx)("i",{style:{marginRight:"3%"},class:"fas fa-check"})," ",e.para]})}))]}),Object(a.jsxs)("div",{className:"course-content",children:[Object(a.jsx)("h3",{style:{fontWeight:"700",marginBottom:"0"},children:"Course Content"}),Object(a.jsxs)("p",{className:"lec-length",children:[v.topics.length," lectures"]})," \u25aa ",Object(a.jsxs)("p",{style:{color:"rgb(153, 153, 153)"},className:"time",children:[v.totalTime," hours"]}),Object(a.jsx)("div",{class:"accordion",id:"accordionExample",children:v.topics.map((function(e){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("div",{class:"accordion-item",children:[Object(a.jsx)("h2",{class:"accordion-header",id:"headingOne",children:Object(a.jsx)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-".concat(e._id),"aria-expanded":"true","aria-controls":"collapse-".concat(e._id),children:e.topicName})}),Object(a.jsx)("div",{id:"collapse-".concat(e._id),class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:e.subTopics.map((function(e){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("div",{class:"accordion-body",children:Object(a.jsx)("p",{style:{marginBottom:"0%"},children:e.sectionName})})})}))})]})})}))})]})]})]})}),de=(s(75),function(){var e=Object(o.h)().subtopic,t=Object(n.useContext)(p),s=Object(n.useState)(!1),r=Object(d.a)(s,2),i=r[0],u=r[1],h=Object(n.useState)(),m=Object(d.a)(h,2),O=m[0],x=m[1],g=Object(n.useState)(),f=Object(d.a)(g,2),v=f[0],N=f[1],y=Object(n.useState)(),w=Object(d.a)(y,2),k=w[0],S=w[1];Object(n.useEffect)((function(){(function(){var s=Object(b.a)(j.a.mark((function s(){var a,n;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,u(!0),s.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/section/".concat(e,"/").concat(t.userId),{headers:{Authorization:"Bearer "+t.token}});case 4:return a=s.sent,s.next=7,a.json();case 7:if(!(n=s.sent).message){s.next=10;break}throw new Error(n.message);case 10:N(n.section),S(n.courseId),s.next=18;break;case 14:s.prev=14,s.t0=s.catch(0),console.log(s.t0),x(s.t0.message||"Something went wrong, please try again");case 18:u(!1);case 19:case"end":return s.stop()}}),s,null,[[0,14]])})));return function(){return s.apply(this,arguments)}})()()}),[]);return Object(a.jsxs)(c.a.Fragment,{children:[O&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){x(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:O})]}),i&&Object(a.jsx)(C,{asOverlay:!0}),!i&&v&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)("div",{className:"video-description",children:[Object(a.jsx)("h1",{className:"subTopic-name",children:v.sectionName}),Object(a.jsx)("h2",{className:"courseName",children:v.courseName}),Object(a.jsx)("button",{className:"btn btn-danger Query-btn",children:"Queries"})]}),Object(a.jsx)("iframe",{style:{marginTop:"1%"},width:"854",height:"480",src:"".concat(v.videoLink)})]}),!i&&k&&Object(a.jsxs)("div",{className:"course-content course-nav",children:[Object(a.jsx)("h3",{style:{color:"white",fontWeight:"700",marginBottom:"0"},children:"Course Content"}),Object(a.jsxs)("p",{className:"lec-length",children:[k.topics.length," lectures \u25aa "]})," ",Object(a.jsxs)("p",{style:{color:"rgb(153, 153, 153)"},className:"time",children:[k.totalTime," hours"]}),Object(a.jsx)("div",{class:"accordion",id:"accordionExample",children:k.topics.map((function(e){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("div",{class:"accordion-item",children:[Object(a.jsx)("h2",{class:"accordion-header",id:"headingOne",children:Object(a.jsx)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-".concat(e._id),"aria-expanded":"true","aria-controls":"collapse-".concat(e._id),children:e.topicName})}),Object(a.jsx)("div",{id:"collapse-".concat(e._id),class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:e.subTopics.map((function(e){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("div",{class:"accordion-body",children:Object(a.jsx)(l.b,{to:"/subtopic/".concat(e.id),style:{color:"black",textDecoration:"none"},children:Object(a.jsx)("p",{style:{marginBottom:"0%"},children:e.sectionName})})})})}))})]})})}))})]})]})}),he=function(){var e=Object(o.h)().subtopic,t=Object(n.useContext)(p),s=Object(n.useState)(!1),r=Object(d.a)(s,2),i=r[0],u=r[1],h=Object(n.useState)(),m=Object(d.a)(h,2),O=m[0],x=m[1],g=Object(n.useState)(),f=Object(d.a)(g,2),v=f[0],N=f[1],y=Object(n.useState)(),w=Object(d.a)(y,2),k=w[0],S=w[1];Object(n.useEffect)((function(){(function(){var s=Object(b.a)(j.a.mark((function s(){var a,n;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,u(!0),s.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/section/first/".concat(e),{headers:{Authorization:"Bearer "+t.token}});case 4:return a=s.sent,s.next=7,a.json();case 7:if(!(n=s.sent).message){s.next=10;break}throw new Error(n.message);case 10:N(n.section),S(n.courseId),s.next=18;break;case 14:s.prev=14,s.t0=s.catch(0),console.log(s.t0),x(s.t0.message||"Something went wrong, please try again");case 18:u(!1);case 19:case"end":return s.stop()}}),s,null,[[0,14]])})));return function(){return s.apply(this,arguments)}})()()}),[]);return Object(a.jsxs)(c.a.Fragment,{children:[O&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){x(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:O})]}),i&&Object(a.jsx)(C,{asOverlay:!0}),!i&&v&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)("div",{className:"video-description",children:[Object(a.jsx)("h1",{className:"subTopic-name",children:v.sectionName}),Object(a.jsx)("h2",{className:"courseName",children:v.courseName}),Object(a.jsx)("button",{className:"btn btn-danger Query-btn",children:"Queries"})]}),Object(a.jsx)("iframe",{style:{marginTop:"1%"},width:"854",height:"480",src:"".concat(v.videoLink)})]}),!i&&k&&Object(a.jsxs)("div",{className:"course-content course-nav",children:[Object(a.jsx)("h3",{style:{color:"white",fontWeight:"700",marginBottom:"0"},children:"Course Content"}),Object(a.jsxs)("p",{className:"lec-length",children:[k.topics.length," lectures \u25aa "]})," ",Object(a.jsxs)("p",{style:{color:"rgb(153, 153, 153)"},className:"time",children:[k.totalTime," hours"]}),Object(a.jsx)("div",{class:"accordion",id:"accordionExample",children:k.topics.map((function(e){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("div",{class:"accordion-item",children:[Object(a.jsx)("h2",{class:"accordion-header",id:"headingOne",children:Object(a.jsx)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-".concat(e._id),"aria-expanded":"true","aria-controls":"collapse-".concat(e._id),children:e.topicName})}),Object(a.jsx)("div",{id:"collapse-".concat(e._id),class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:e.subTopics.map((function(e){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("div",{class:"accordion-body",children:Object(a.jsx)(l.b,{to:"/subtopic/".concat(e.id),style:{color:"black",textDecoration:"none"},children:Object(a.jsx)("p",{style:{marginBottom:"0%"},children:e.sectionName})})})})}))})]})})}))})]})]})},me=function(){var e=Object(n.useContext)(p),t=Object(n.useState)(!1),s=Object(d.a)(t,2),r=s[0],i=s[1],o=Object(n.useState)(),l=Object(d.a)(o,2),u=l[0],h=l[1],O=Object(n.useState)(),x=Object(d.a)(O,2),g=x[0],f=x[1];Object(n.useEffect)((function(){(function(){var t=Object(b.a)(j.a.mark((function t(){var s,a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i(!0),t.next=4,fetch("https://community-portal-backend.herokuapp.com/api"+"/user/".concat(e.userId,"/courses"),{headers:{Authorization:"Bearer "+e.token}});case 4:return s=t.sent,t.next=7,s.json();case 7:if(!(a=t.sent).message||"No Course found"===a.message){t.next=10;break}throw new Error(a.message);case 10:n=a.courses.map((function(e,t){return Object(m.a)(Object(m.a)({},e),{},{lastSeenSectionId:a.myCoursesData[t].lastSeenSectionId})})),f(n),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),h(t.t0.message||"Something went wrong, please try again");case 18:i(!1);case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}})()()}),[]);return Object(a.jsxs)(c.a.Fragment,{children:[u&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E,{onClick:function(){h(null)}}),Object(a.jsx)(A,{heading:"Error Occured!",error:u})]}),r&&Object(a.jsx)(C,{asOverlay:!0}),!r&&g&&Object(a.jsx)(ue,{courses:g})]})};var Oe=function(){var e,t=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),s=t[0],a=t[1],c=Object(n.useState)(),r=Object(d.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(null),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(n.useCallback)((function(e,t,s){a(t),b(e);var n=s||new Date((new Date).getTime()+36e5);o(n),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:n.toISOString()}))}),[]),m=Object(n.useCallback)((function(e){a(null),o(null),b(null),localStorage.removeItem("userData")}),[]);return Object(n.useEffect)((function(){if(s&&i){var e=i.getTime()-(new Date).getTime();R=setTimeout(m,e)}else clearTimeout(R)}),[s,m,i]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&h(e.userId,e.token,new Date(e.expiration))}),[h]),{token:s,userId:j,login:h,logout:m}}(),s=t.token,c=t.userId,r=t.login,i=t.logout;return e=s?Object(a.jsxs)(o.d,{children:[Object(a.jsxs)(o.b,{path:"/",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)(M,{})]}),Object(a.jsxs)(o.b,{path:"/question/new",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)(ee,{})]}),Object(a.jsxs)(o.b,{path:"/ques/:quesID",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)($,{})]}),Object(a.jsxs)(o.b,{path:"/questions/:catID",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)(K,{})]}),Object(a.jsxs)(o.b,{path:"/:quesId/update",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)(te,{})]}),Object(a.jsxs)(o.b,{path:"/update/:answerId",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)(se,{})]}),Object(a.jsxs)(o.b,{path:"/:userId/questions",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)(Y,{})]}),Object(a.jsxs)(o.b,{path:"/:userId/answers",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)(ae,{})]}),Object(a.jsxs)(o.b,{path:"/:userId/savedAnswers",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)(ne,{})]}),Object(a.jsx)(o.b,{path:"/courses",exact:!0,children:Object(a.jsx)(je,{})}),Object(a.jsx)(o.b,{path:"/course/:courseId",exact:!0,children:Object(a.jsx)(be,{})}),Object(a.jsx)(o.b,{path:"/subTopic/:subtopic",children:Object(a.jsx)(de,{})}),Object(a.jsx)(o.b,{path:"/first/subTopic/:subtopic",children:Object(a.jsx)(he,{})}),Object(a.jsx)(o.b,{path:"/:userId/courses",children:Object(a.jsx)(me,{})}),Object(a.jsx)(o.a,{to:"/"})]}):Object(a.jsxs)(o.d,{children:[Object(a.jsxs)(o.b,{path:"/",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)(M,{})]}),Object(a.jsx)(o.b,{path:"/authenticate",exact:!0,children:Object(a.jsx)(F,{})}),Object(a.jsx)(o.b,{path:"/reset",exact:!0,children:Object(a.jsx)(ie,{})}),Object(a.jsx)(o.b,{path:"/reset/:token",exact:!0,children:Object(a.jsx)(oe,{})}),Object(a.jsxs)(o.b,{path:"/ques/:quesID",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)($,{})]}),Object(a.jsxs)(o.b,{path:"/questions/:catID",exact:!0,children:[Object(a.jsx)(L,{}),Object(a.jsx)(K,{})]}),Object(a.jsx)(o.b,{path:"/courses",exact:!0,children:Object(a.jsx)(je,{})}),Object(a.jsx)(o.b,{path:"/course/:courseId",exact:!0,children:Object(a.jsx)(be,{})}),Object(a.jsx)(o.b,{path:"/subTopic/:subtopic",children:Object(a.jsx)(de,{})}),Object(a.jsx)(o.a,{to:"/"})]}),Object(a.jsx)(p.Provider,{value:{isLogedIn:!!s,token:s,userId:c,login:r,logout:i},children:Object(a.jsx)(l.a,{children:Object(a.jsx)("main",{children:e})})})},pe=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,211)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),c(e),r(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Oe,{})}),document.getElementById("root")),pe()},75:function(e,t,s){},85:function(e,t,s){},86:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){},90:function(e,t,s){},91:function(e,t,s){},92:function(e,t,s){},93:function(e,t,s){},94:function(e,t,s){}},[[198,1,2]]]);
//# sourceMappingURL=main.8cb12838.chunk.js.map